// ============== –û–°–ù–û–í–ù–´–ï –î–ê–ù–ù–´–ï ==============

// 23 —Ç–æ–≤–∞—Ä–∞
const products = {
  1: {
    id: 1,
    title: "–õ–∞–º–ø–æ—á–∫–∞ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω–∞—è –ï27 20 –í–¢ –¥–Ω–µ–≤–Ω–æ–π —Å–≤–µ—Ç üí°",
    price: 170,
    image: "https://avatars.mds.yandex.net/get-mpic/16067753/2a000001983c472228918dcc6534e0e7e25d/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.5,
    badge: "—Ö–∏—Ç",
    tags: "–ª–∞–º–ø–æ—á–∫–∞ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω–∞—è –æ—Å–≤–µ—â–µ–Ω–∏–µ —Å–≤–µ—Ç –¥–æ–º –æ—Ñ–∏—Å —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ",
    description: "–≠–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–≥–∞—é—â–∞—è —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω–∞—è –ª–∞–º–ø–∞ –¥–ª—è –¥–æ–º–∞ –∏ –æ—Ñ–∏—Å–∞. –°—Ä–æ–∫ —Å–ª—É–∂–±—ã –¥–æ 25,000 —á–∞—Å–æ–≤. –≠–∫–æ–Ω–æ–º–∏—è —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –¥–æ 85% –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ª–∞–º–ø–∞–º–∏ –Ω–∞–∫–∞–ª–∏–≤–∞–Ω–∏—è.",
    features: ["–≠–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ", "–î–æ–ª–≥–∏–π —Å—Ä–æ–∫ —Å–ª—É–∂–±—ã", "–Ø—Ä–∫–∏–π —Å–≤–µ—Ç"]
  },
  2: {
    id: 2,
    title: "–£–≥–ª–æ–≤–æ–π –¥–∏–≤–∞–Ω, —Å–≤–µ—Ç–ª–æ-–±–µ–∂–µ–≤—ã–π üõãÔ∏è",
    price: 27986,
    image: "https://ir.ozone.ru/s3/multimedia-1-z/wc1000/8117429255.jpg",
    category: "–º–µ–±–µ–ª—å",
    rating: 4,
    badge: "–Ω–æ–≤–∏–Ω–∫–∞",
    tags: "–¥–∏–≤–∞–Ω —É–≥–ª–æ–≤–æ–π –º–µ–±–µ–ª—å –≥–æ—Å—Ç–∏–Ω–∞—è –∫–æ–º—Ñ–æ—Ä—Ç –æ—Ç–¥—ã—Ö",
    description: "–ü—Ä–æ—Å—Ç–æ—Ä–Ω—ã–π —É–≥–ª–æ–≤–æ–π –¥–∏–≤–∞–Ω –¥–ª—è –≤–∞—à–µ–π –≥–æ—Å—Ç–∏–Ω–æ–π. –ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω –∏–∑ —ç–∫–æ–ª–æ–≥–∏—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, —Å –æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–º –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º –∏ –º—è–≥–∫–∏–º–∏ –ø–æ–¥—É—à–∫–∞–º–∏.",
    features: ["–û—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ", "–≠–∫–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã", "–†–∞–∑–±–æ—Ä–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"]
  },
  3: {
    id: 3,
    title: "–ú–∞–ª–∏–Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ –º–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–æ–µ –¢–∞—Ä—É—Å–∞ —Å–∞–∂–µ–Ω–µ—Ü üå≥",
    price: 475,
    image: "https://main-cdn.sbermegamarket.ru/big2/hlr-system/186/969/784/032/518/600011043018b0.jpeg",
    category: "—Ä–∞—Å—Ç–µ–Ω–∏—è",
    rating: 5,
    badge: "–∞–∫—Ü–∏—è",
    tags: "–¥–µ—Ä–µ–≤–æ –º–∞–ª–∏–Ω–∞ —Ä–∞—Å—Ç–µ–Ω–∏–µ —Å–∞–∂–µ–Ω–µ—Ü —Å–∞–¥ –æ–≥–æ—Ä–æ–¥ —Ñ—Ä—É–∫—Ç—ã",
    description: "–ú–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–∏–π —Å–∞–∂–µ–Ω–µ—Ü –º–∞–ª–∏–Ω–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞. –í—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–æ -30¬∞C. –í—ã—Å–æ–∫–∞—è —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å - –¥–æ 4 –∫–≥ —Å –∫—É—Å—Ç–∞.",
    features: ["–ú–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å", "–í—ã—Å–æ–∫–∞—è —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å", "–ö—Ä—É–ø–Ω—ã–µ —è–≥–æ–¥—ã"]
  },
  4: {
    id: 4,
    title: "–°–º–∞—Ä—Ç—Ñ–æ–Ω Xiaomi Redmi Note 13 Pro üì±",
    price: 24990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id5575787011966879919.jpeg/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.7,
    badge: "—Ö–∏—Ç",
    tags: "—Å–º–∞—Ä—Ç—Ñ–æ–Ω xiaomi —Ç–µ–ª–µ—Ñ–æ–Ω –º–æ–±–∏–ª—å–Ω—ã–π –≥–∞–¥–∂–µ—Ç android –∫–∞–º–µ—Ä–∞",
    description: "–ú–æ—â–Ω—ã–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å AMOLED –¥–∏—Å–ø–ª–µ–µ–º 120 –ì—Ü –∏ –∫–∞–º–µ—Ä–æ–π 200 –ú–ø. –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä Snapdragon, –±–∞—Ç–∞—Ä–µ—è 5000 –º–ê—á —Å –±—ã—Å—Ç—Ä–æ–π –∑–∞—Ä—è–¥–∫–æ–π 67 –í—Ç.",
    features: ["–ö–∞–º–µ—Ä–∞ 200 –ú–ø", "AMOLED 120 –ì—Ü", "–ë—ã—Å—Ç—Ä–∞—è –∑–∞—Ä—è–¥–∫–∞ 67 –í—Ç"]
  },
  5: {
    id: 5,
    title: "–†–æ–±–æ—Ç-–ø—ã–ª–µ—Å–æ—Å Xiaomi Vacuum Mop 2 Pro üßπ",
    price: 18990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id3569950693451441534.jpeg/orig",
    category: "–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
    rating: 4.8,
    badge: "–Ω–æ–≤–∏–Ω–∫–∞",
    tags: "–ø—ã–ª–µ—Å–æ—Å —Ä–æ–±–æ—Ç —É–±–æ—Ä–∫–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –¥–æ–º —á–∏—Å—Ç–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è",
    description: "–£–º–Ω—ã–π —Ä–æ–±–æ—Ç-–ø—ã–ª–µ—Å–æ—Å —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –≤–ª–∞–∂–Ω–æ–π —É–±–æ—Ä–∫–∏. –ù–∞–≤–∏–≥–∞—Ü–∏—è LIDAR, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—Ä—è–¥–∫–∞.",
    features: ["–ù–∞–≤–∏–≥–∞—Ü–∏—è LIDAR", "–í–ª–∞–∂–Ω–∞—è —É–±–æ—Ä–∫–∞", "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"]
  },
  6: {
    id: 6,
    title: "–ë–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è —Å–∫–ª–∞–¥–Ω–∞—è üèÉ‚Äç‚ôÇÔ∏è",
    price: 8490,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id3040167314553316243.jpeg/orig",
    category: "—Å–ø–æ—Ä—Ç",
    rating: 4.6,
    badge: "–∞–∫—Ü–∏—è",
    tags: "–±–µ–≥ –¥–æ—Ä–æ–∂–∫–∞ —Ç—Ä–µ–Ω–∞–∂–µ—Ä —Å–ø–æ—Ä—Ç —Ñ–∏—Ç–Ω–µ—Å –∑–¥–æ—Ä–æ–≤—å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞",
    description: "–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –±–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞ –¥–ª—è –¥–æ–º–∞—à–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –°–∫–ª–∞–¥–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, 12 –ø—Ä–æ–≥—Ä–∞–º–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å 12 –∫–º/—á.",
    features: ["–°–∫–ª–∞–¥–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", "12 –ø—Ä–æ–≥—Ä–∞–º–º", "–ú–∞–∫—Å. —Å–∫–æ—Ä–æ—Å—Ç—å 12 –∫–º/—á"]
  },
  7: {
    id: 7,
    title: "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π —Å—Ç–æ–ª —Å –ø–æ–ª–∫–∞–º–∏ üñ•Ô∏è",
    price: 12490,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id3296949718102363720.jpeg/orig",
    category: "–º–µ–±–µ–ª—å",
    rating: 4.3,
    badge: "—Ö–∏—Ç",
    tags: "—Å—Ç–æ–ª –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π –æ—Ñ–∏—Å —Ä–∞–±–æ—Ç–∞ –º–µ–±–µ–ª—å —ç—Ä–≥–æ–Ω–æ–º–∏–∫–∞",
    description: "–≠—Ä–≥–æ–Ω–æ–º–∏—á–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π —Å—Ç–æ–ª —Å —Ä–µ–≥—É–ª–∏—Ä—É–µ–º–æ–π –≤—ã—Å–æ—Ç–æ–π, –ø–æ–ª–∫–∞–º–∏ –¥–ª—è —Ç–µ—Ö–Ω–∏–∫–∏ –∏ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ–º –¥–ª—è –ø—Ä–æ–≤–æ–¥–æ–≤. –†–∞–∑–º–µ—Ä—ã: 120x60x75 —Å–º.",
    features: ["–†–µ–≥—É–ª–∏—Ä—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞", "–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–æ–ª–∫–∏", "–û—Ç–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–æ–¥–æ–≤"]
  },
  8: {
    id: 8,
    title: "–ó–∏–º–Ω—è—è –∫—É—Ä—Ç–∫–∞ –ø—É—Ö–æ–≤–∞—è —Å –∫–∞–ø—é—à–æ–Ω–æ–º üß•",
    price: 2990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id7346364501757172217.jpeg/orig",
    category: "–æ–¥–µ–∂–¥–∞",
    rating: 4.9,
    badge: "–Ω–æ–≤–∏–Ω–∫–∞",
    tags: "–∫—É—Ä—Ç–∫–∞ –∑–∏–º–Ω—è—è –æ–¥–µ–∂–¥–∞ –ø—É—Ö–æ–≤–∞—è —Ç–µ–ø–ª–æ –º–æ—Ä–æ–∑ –∑–∏–º–∞",
    description: "–¢–µ–ø–ª–∞—è –∑–∏–º–Ω—è—è –∫—É—Ä—Ç–∫–∞ —Å –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–º –ø—É—Ö–æ–≤—ã–º –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º. –í–æ–¥–æ–æ—Ç—Ç–∞–ª–∫–∏–≤–∞—é—â–∞—è —Ç–∫–∞–Ω—å, —É–¥–æ–±–Ω—ã–π –∫–∞–ø—é—à–æ–Ω, –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä–º–∞–Ω–æ–≤.",
    features: ["–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –ø—É—Ö", "–í–æ–¥–æ–æ—Ç—Ç–∞–ª–∫–∏–≤–∞—é—â–∞—è —Ç–∫–∞–Ω—å", "–£—Ç–µ–ø–ª–µ–Ω–Ω—ã–π –∫–∞–ø—é—à–æ–Ω"]
  },
  9: {
    id: 9,
    title: "–û—Ä—Ö–∏–¥–µ—è —Ñ–∞–ª–µ–Ω–æ–ø—Å–∏—Å –≤ –≥–æ—Ä—à–∫–µ üå∏",
    price: 890,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id2529514383083455258.jpeg/orig",
    category: "—Ä–∞—Å—Ç–µ–Ω–∏—è",
    rating: 4.7,
    badge: "–∞–∫—Ü–∏—è",
    tags: "–æ—Ä—Ö–∏–¥–µ—è —Ü–≤–µ—Ç–æ–∫ —Ä–∞—Å—Ç–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç–Ω–æ–µ –¥–µ–∫–æ—Ä –∏–Ω—Ç–µ—Ä—å–µ—Ä",
    description: "–¶–≤–µ—Ç—É—â–∞—è –æ—Ä—Ö–∏–¥–µ—è —Ñ–∞–ª–µ–Ω–æ–ø—Å–∏—Å –≤ –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–æ–º –≥–æ—Ä—à–∫–µ. –ù–µ–ø—Ä–∏—Ö–æ—Ç–ª–∏–≤–æ–µ –∫–æ–º–Ω–∞—Ç–Ω–æ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ —Å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º —Ü–≤–µ—Ç–µ–Ω–∏–µ–º –¥–æ 6 –º–µ—Å—è—Ü–µ–≤.",
    features: ["–î–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Ü–≤–µ—Ç–µ–Ω–∏–µ", "–ö–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π –≥–æ—Ä—à–æ–∫", "–ù–µ–ø—Ä–∏—Ö–æ—Ç–ª–∏–≤–∞ –≤ —É—Ö–æ–¥–µ"]
  },
  10: {
    id: 10,
    title: "–ù–∞—É—à–Ω–∏–∫–∏ Sony WH-CH720N –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ üéß",
    price: 5490,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id4357082560697745323.jpeg/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.4,
    badge: "—Ä–∞—Å–ø—Ä–æ–¥–∞–∂–∞",
    tags: "–Ω–∞—É—à–Ω–∏–∫–∏ sony –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –º—É–∑—ã–∫–∞ –∑–≤—É–∫ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ",
    description: "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ —Å –∞–∫—Ç–∏–≤–Ω—ã–º —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º. –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –¥–æ 50 —á–∞—Å–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Bluetooth 5.2, —Å–∫–ª–∞–¥–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
    features: ["–®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ", "50 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã", "–°–∫–ª–∞–¥–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"]
  },
  11: {
    id: 11,
    title: "–ú—ã—à—å Logitech G Pro X Superlight üñ±Ô∏è",
    price: 8000,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id9153764782923478293.jpeg/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.9,
    badge: "—Ç–æ–ø",
    tags: "–º—ã—à—å logitech –∏–≥—Ä–æ–≤–∞—è g pro superlight –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–∞—è gaming",
    description: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è –º—ã—à—å. –í–µ—Å –≤—Å–µ–≥–æ 63 –≥—Ä–∞–º–º–∞, —Å–µ–Ω—Å–æ—Ä HERO 25K, –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ 1 –º—Å, –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –¥–æ 70 —á–∞—Å–æ–≤.",
    features: ["–í–µ—Å 63–≥", "–°–µ–Ω—Å–æ—Ä HERO 25K", "–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å 70—á", "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–∞—è"]
  },
  12: {
    id: 12,
    title: "–ö–æ—Ñ–µ–º–∞—à–∏–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è De'Longhi ‚òï",
    price: 32990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id8086408122718397299.jpeg/orig",
    category: "–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
    rating: 4.8,
    badge: "–Ω–æ–≤–∏–Ω–∫–∞",
    tags: "–∫–æ—Ñ–µ–º–∞—à–∏–Ω–∞ –∫–æ—Ñ–µ –¥–µ–ª–æ–Ω–≥–∏ —Ç–µ—Ö–Ω–∏–∫–∞ –∫—É—Ö–Ω—è –Ω–∞–ø–∏—Ç–∫–∏",
    description: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ñ–µ–º–∞—à–∏–Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –∫–∞–ø—É—á–∏–Ω–∞—Ç–æ—Ä–æ–º, 13 —Å—Ç–µ–ø–µ–Ω—è–º–∏ –ø–æ–º–æ–ª–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–µ–π –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –¥–≤—É—Ö —á–∞—à–µ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.",
    features: ["–ö–∞–ø—É—á–∏–Ω–∞—Ç–æ—Ä", "13 —Å—Ç–µ–ø–µ–Ω–µ–π –ø–æ–º–æ–ª–∞", "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å"]
  },
  13: {
    id: 13,
    title: "–ù–∞–±–æ—Ä –≥–∞–Ω—Ç–µ–ª–µ–π —Ä–∞–∑–±–æ—Ä–Ω—ã—Ö 20 –∫–≥ üèãÔ∏è‚Äç‚ôÇÔ∏è",
    price: 2490,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id4372008676743360406.jpeg/orig",
    category: "—Å–ø–æ—Ä—Ç",
    rating: 4.5,
    badge: "–∞–∫—Ü–∏—è",
    tags: "–≥–∞–Ω—Ç–µ–ª–∏ —Å–ø–æ—Ä—Ç —Ç—Ä–µ–Ω–∞–∂–µ—Ä—ã —Ñ–∏—Ç–Ω–µ—Å –º—ã—à—Ü—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞",
    description: "–ù–∞–±–æ—Ä —Ä–∞–∑–±–æ—Ä–Ω—ã—Ö –≥–∞–Ω—Ç–µ–ª–µ–π –æ–±—â–∏–º –≤–µ—Å–æ–º –¥–æ 20 –∫–≥. –†–µ–∑–∏–Ω–æ–≤—ã–µ –¥–∏—Å–∫–∏, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ –≥—Ä–∏—Ñ—ã, —É–¥–æ–±–Ω—ã–π –∫–ª—é—á –¥–ª—è —Å–±–æ—Ä–∫–∏.",
    features: ["–†–µ–∑–∏–Ω–æ–≤—ã–µ –¥–∏—Å–∫–∏", "–ú–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ –≥—Ä–∏—Ñ—ã", "–†–∞–∑–±–æ—Ä–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"]
  },
  14: {
    id: 14,
    title: "–£–º–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ –Ø–Ω–¥–µ–∫—Å –°—Ç–∞–Ω—Ü–∏—è –ú–∏–Ω–∏ 2 üîä",
    price: 6990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id6123456789012345678.jpeg/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.6,
    badge: "–Ω–æ–≤–∏–Ω–∫–∞",
    tags: "–∫–æ–ª–æ–Ω–∫–∞ —É–º–Ω–∞—è —è–Ω–¥–µ–∫—Å –∞–ª–∏—Å–∞ –≥–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –º—É–∑—ã–∫–∞",
    description: "–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —É–º–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º –ø–æ–º–æ—â–Ω–∏–∫–æ–º –ê–ª–∏—Å–∞. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º, —Å—Ç–µ—Ä–µ–æ–∑–≤—É–∫, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–π –º—É–∑—ã–∫–∏.",
    features: ["–ì–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫", "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º", "–°—Ç–µ—Ä–µ–æ–∑–≤—É–∫"]
  },
  15: {
    id: 15,
    title: "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Å–∞–º–æ–∫–∞—Ç Xiaomi Mi Scooter 4 Pro üõ¥",
    price: 45990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id7234567890123456789.jpeg/orig",
    category: "—Å–ø–æ—Ä—Ç",
    rating: 4.8,
    badge: "—Ö–∏—Ç",
    tags: "—Å–∞–º–æ–∫–∞—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π xiaomi —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –≥–æ—Ä–æ–¥—Å–∫–æ–π",
    description: "–ú–æ—â–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Å–∞–º–æ–∫–∞—Ç —Å –∑–∞–ø–∞—Å–æ–º —Ö–æ–¥–∞ –¥–æ 55 –∫–º. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å 25 –∫–º/—á, —Å–∫–ª–∞–¥–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, —è—Ä–∫–∏–µ —Ñ–∞—Ä—ã.",
    features: ["–ó–∞–ø–∞—Å —Ö–æ–¥–∞ 55–∫–º", "–°–∫–ª–∞–¥–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", "–ú–æ—â–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å"]
  },
  16: {
    id: 16,
    title: "–ù–∞–±–æ—Ä –Ω–æ–∂–µ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö 8 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ üî™",
    price: 12990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id8345678901234567890.jpeg/orig",
    category: "–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
    rating: 4.7,
    badge: "–∞–∫—Ü–∏—è",
    tags: "–Ω–æ–∂–∏ –Ω–∞–±–æ—Ä –∫—É—Ö–Ω—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞–ª—å",
    description: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –Ω–æ–∂–µ–π –∏–∑ –≤—ã—Å–æ–∫–æ—É–≥–ª–µ—Ä–æ–¥–∏—Å—Ç–æ–π —Å—Ç–∞–ª–∏. –í–∫–ª—é—á–∞–µ—Ç —à–µ—Ñ-–Ω–æ–∂, —Ö–ª–µ–±–Ω—ã–π, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –æ–≤–æ—â–Ω–æ–π –∏ —Ç–æ—á–∏–ª–∫—É.",
    features: ["–í—ã—Å–æ–∫–æ—É–≥–ª–µ—Ä–æ–¥–∏—Å—Ç–∞—è —Å—Ç–∞–ª—å", "8 –ø—Ä–µ–¥–º–µ—Ç–æ–≤", "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ"]
  },
  17: {
    id: 17,
    title: "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ JBL Charge 5 üîä",
    price: 11990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id2123456789012345678.jpeg/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.9,
    badge: "—Ç–æ–ø",
    tags: "–∫–æ–ª–æ–Ω–∫–∞ –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–∞—è jbl bluetooth –º—É–∑—ã–∫–∞ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è",
    description: "–í–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–∞—è –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ —Å –º–æ—â–Ω—ã–º –∑–≤—É–∫–æ–º. –†–∞–±–æ—Ç–∞–µ—Ç –¥–æ 20 —á–∞—Å–æ–≤, –∑–∞—â–∏—Ç–∞ IP67, –º–æ–∂–Ω–æ –∑–∞—Ä—è–∂–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ USB.",
    features: ["–ó–∞—â–∏—Ç–∞ IP67", "20 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã", "–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω"]
  },
  18: {
    id: 18,
    title: "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –≥—Ä–∏–ª—å Tefal OptiGrill+ üçñ",
    price: 8990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id3234567890123456789.jpeg/orig",
    category: "–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
    rating: 4.7,
    badge: "—Ö–∏—Ç",
    tags: "–≥—Ä–∏–ª—å —Ç–µ—Ñ–∞–ª—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –∫—É—Ö–Ω—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –µ–¥–∞",
    description: "–£–º–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –≥—Ä–∏–ª—å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ç–æ–ª—â–∏–Ω—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤. 6 –ø—Ä–æ–≥—Ä–∞–º–º –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è, —Å—ä–µ–º–Ω—ã–µ –ø–ª–∞—Å—Ç–∏–Ω—ã.",
    features: ["–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ª—â–∏–Ω—ã", "6 –ø—Ä–æ–≥—Ä–∞–º–º", "–°—ä–µ–º–Ω—ã–µ –ø–ª–∞—Å—Ç–∏–Ω—ã"]
  },
  19: {
    id: 19,
    title: "–ù–∞–±–æ—Ä LEGO Technic Lamborghini üèéÔ∏è",
    price: 24990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id4345678901234567890.jpeg/orig",
    category: "–¥–µ—Ç—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã",
    rating: 4.8,
    badge: "–Ω–æ–≤–∏–Ω–∫–∞",
    tags: "–ª–µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ç–µ—Ö–Ω–∏–∫ –ª–∞–º–±–æ—Ä–¥–∂–∏–Ω–∏ –∏–≥—Ä—É—à–∫–∞",
    description: "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä LEGO Technic Lamborghini Si√°n FKP 37. 3696 –¥–µ—Ç–∞–ª–µ–π, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –∫–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á, –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –¥–≤–µ—Ä–∏.",
    features: ["3696 –¥–µ—Ç–∞–ª–µ–π", "–†–∞–±–æ—Ç–∞—é—â–∞—è –ö–ü–ü", "–ú–∞—Å—à—Ç–∞–± 1:8"]
  },
  20: {
    id: 20,
    title: "–ú–æ–Ω–æ–±–ª–æ–∫ Acer Aspire C24 üñ•Ô∏è",
    price: 54990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id5456789012345678901.jpeg/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.6,
    badge: "–∞–∫—Ü–∏—è",
    tags: "–º–æ–Ω–æ–±–ª–æ–∫ –∫–æ–º–ø—å—é—Ç–µ—Ä acer —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª –æ—Ñ–∏—Å",
    description: "–°—Ç–∏–ª—å–Ω—ã–π –º–æ–Ω–æ–±–ª–æ–∫ —Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º Intel Core i5, 16 –ì–ë RAM, SSD 512 –ì–ë. –î–∏—Å–ø–ª–µ–π 23.8 –¥—é–π–º–∞ Full HD, –≤–µ–±-–∫–∞–º–µ—Ä–∞.",
    features: ["Intel Core i5", "16 –ì–ë RAM", "SSD 512 –ì–ë"]
  },
  21: {
    id: 21,
    title: "–ù–∞–±–æ—Ä –ø–æ—Å—É–¥—ã Tefal Ingenio üî™",
    price: 15990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id6567890123456789012.jpeg/orig",
    category: "–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
    rating: 4.5,
    badge: "—Ä–∞—Å–ø—Ä–æ–¥–∞–∂–∞",
    tags: "–ø–æ—Å—É–¥–∞ —Ç–µ—Ñ–∞–ª—å —Å–∫–æ–≤–æ—Ä–æ–¥–∞ –∫–∞—Å—Ç—Ä—é–ª—è –∫—É—Ö–Ω—è",
    description: "–ù–∞–±–æ—Ä –ø–æ—Å—É–¥—ã 10 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å –∞–Ω—Ç–∏–ø—Ä–∏–≥–∞—Ä–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º. –°—ä–µ–º–Ω—ã–µ —Ä—É—á–∫–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—É—Ö–æ–≤–∫–µ –∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å—Ç–æ–ø–∫–µ.",
    features: ["10 –ø—Ä–µ–¥–º–µ—Ç–æ–≤", "–°—ä–µ–º–Ω—ã–µ —Ä—É—á–∫–∏", "–î–ª—è –¥—É—Ö–æ–≤–∫–∏ –¥–æ 260¬∞C"]
  },
  22: {
    id: 22,
    title: "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π –ø—ã–ª–µ—Å–æ—Å Dyson V15 Detect üßπ",
    price: 65990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id7678901234567890123.jpeg/orig",
    category: "–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
    rating: 4.9,
    badge: "—Ç–æ–ø",
    tags: "–ø—ã–ª–µ—Å–æ—Å –¥–∞–π—Å–æ–Ω –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π —É–±–æ—Ä–∫–∞ –¥–æ–º",
    description: "–ú–æ—â–Ω—ã–π –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π –ø—ã–ª–µ—Å–æ—Å —Å –ª–∞–∑–µ—Ä–Ω—ã–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –ø—ã–ª–∏. –î–æ 60 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã, HEPA-—Ñ–∏–ª—å—Ç—Ä, –Ω–∞—Å–∞–¥–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π.",
    features: ["–õ–∞–∑–µ—Ä–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ", "60 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã", "HEPA-—Ñ–∏–ª—å—Ç—Ä"]
  },
  23: {
    id: 23,
    title: "–£–º–Ω—ã–µ —á–∞—Å—ã Apple Watch Series 9 ‚åö",
    price: 39990,
    image: "https://avatars.mds.yandex.net/get-mpic/5233304/img_id8789012345678901234.jpeg/orig",
    category: "—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    rating: 4.8,
    badge: "–Ω–æ–≤–∏–Ω–∫–∞",
    tags: "—á–∞—Å—ã apple watch —É–º–Ω—ã–µ –≥–∞–¥–∂–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ",
    description: "–£–º–Ω—ã–µ —á–∞—Å—ã —Å –Ω–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º S9, –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–Ω—ã–º –¥–∏—Å–ø–ª–µ–µ–º, –∏–∑–º–µ—Ä–µ–Ω–∏–µ–º –≠–ö–ì –∏ —É—Ä–æ–≤–Ω—è –∫–∏—Å–ª–æ—Ä–æ–¥–∞ –≤ –∫—Ä–æ–≤–∏.",
    features: ["–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä S9", "–≠–ö–ì –∏ SpO‚ÇÇ", "–í–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º—ã–µ"]
  }
};

// –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
const categories = {
  '—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞': { icon: 'üì±', color: '#2196F3' },
  '–º–µ–±–µ–ª—å': { icon: 'üõãÔ∏è', color: '#795548' },
  '—Ä–∞—Å—Ç–µ–Ω–∏—è': { icon: 'üåø', color: '#4CAF50' },
  '–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞': { icon: 'üîå', color: '#FF9800' },
  '—Å–ø–æ—Ä—Ç': { icon: 'üèãÔ∏è‚Äç‚ôÇÔ∏è', color: '#F44336' },
  '–æ–¥–µ–∂–¥–∞': { icon: 'üëï', color: '#9C27B0' },
  '–∫–Ω–∏–≥–∏': { icon: 'üìö', color: '#607D8B' },
  '–∫–æ—Å–º–µ—Ç–∏–∫–∞': { icon: 'üíÑ', color: '#E91E63' },
  '–¥–µ—Ç—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã': { icon: 'üß∏', color: '#00BCD4' }
};

// ============== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==============

let searchHistory = JSON.parse(localStorage.getItem('buyday_search_history')) || [];
let viewHistory = JSON.parse(localStorage.getItem('buyday_view_history')) || [];
let cartHistory = JSON.parse(localStorage.getItem('buyday_cart_history')) || [];
let cart = JSON.parse(localStorage.getItem('buyday_cart')) || {};
let currentProductModal = null;

// ============== –°–ò–°–¢–ï–ú–ê –ê–ö–ö–ê–£–ù–¢–û–í ==============

// –ú–∞—Å—Å–∏–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
let users = JSON.parse(localStorage.getItem('buyday_users')) || [
  {
    id: 1,
    firstName: '–ò–≤–∞–Ω',
    lastName: '–ò–≤–∞–Ω–æ–≤',
    email: 'ivan@example.com',
    password: '123456',
    phone: '+7 (999) 999-99-99',
    birthDate: '1990-01-01',
    bonuses: 1500,
    level: 'premium',
    registrationDate: '2023-01-15',
    settings: {
      emailNotifications: true,
      smsNotifications: true,
      twoFactorAuth: false
    },
    addresses: [
      {
        id: 1,
        title: '–î–æ–º–∞—à–Ω–∏–π –∞–¥—Ä–µ—Å',
        address: '—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10, –∫–≤. 5',
        city: '–ú–æ—Å–∫–≤–∞',
        postalCode: '123456',
        isDefault: true
      }
    ]
  }
];

// –¢–µ–∫—É—â–∏–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
let currentUser = JSON.parse(localStorage.getItem('buyday_current_user')) || null;

// –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
let user = JSON.parse(localStorage.getItem('buyday_user')) || {
  id: Date.now(),
  firstName: '–ò–≤–∞–Ω',
  lastName: '–ò–≤–∞–Ω–æ–≤',
  email: 'ivan@example.com',
  phone: '+7 (999) 999-99-99',
  birthDate: '1990-01-01',
  bonuses: 1500,
  level: 'premium',
  registrationDate: new Date().toISOString(),
  settings: {
    emailNotifications: true,
    smsNotifications: true,
    twoFactorAuth: false
  },
  addresses: [
    {
      id: 1,
      title: '–î–æ–º–∞—à–Ω–∏–π –∞–¥—Ä–µ—Å',
      address: '—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10, –∫–≤. 5',
      city: '–ú–æ—Å–∫–≤–∞',
      postalCode: '123456',
      isDefault: true
    }
  ]
};

// –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
let orders = JSON.parse(localStorage.getItem('buyday_orders')) || [
  {
    id: 'BYD-20240115-001',
    date: '2024-01-15',
    status: 'delivered',
    items: [
      { id: 4, title: '–°–º–∞—Ä—Ç—Ñ–æ–Ω Xiaomi Redmi Note 13 Pro', price: 24990, quantity: 1, image: products[4].image },
      { id: 10, title: '–ù–∞—É—à–Ω–∏–∫–∏ Sony WH-CH720N', price: 5490, quantity: 1, image: products[10].image }
    ],
    total: 30480,
    address: '—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10, –∫–≤. 5, –ú–æ—Å–∫–≤–∞'
  },
  {
    id: 'BYD-20231220-002',
    date: '2023-12-20',
    status: 'delivered',
    items: [
      { id: 2, title: '–£–≥–ª–æ–≤–æ–π –¥–∏–≤–∞–Ω', price: 27986, quantity: 1, image: products[2].image }
    ],
    total: 27986,
    address: '—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10, –∫–≤. 5, –ú–æ—Å–∫–≤–∞'
  }
];

// –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
let favorites = JSON.parse(localStorage.getItem('buyday_favorites')) || [1, 4, 7, 14, 17, 22];

// –ò—Å—Ç–æ—Ä–∏—è –±–æ–Ω—É—Å–æ–≤
let bonusHistory = JSON.parse(localStorage.getItem('buyday_bonus_history')) || [
  { date: '2024-01-15', description: '–ó–∞–∫–∞–∑ BYD-20240115-001', amount: 304, type: 'earn' },
  { date: '2023-12-25', description: '–ë–æ–Ω—É—Å—ã –∑–∞ –æ—Ç–∑—ã–≤', amount: 500, type: 'earn' },
  { date: '2023-12-20', description: '–ó–∞–∫–∞–∑ BYD-20231220-002', amount: 279, type: 'earn' }
];

// ============== –°–ò–°–¢–ï–ú–ê –ü–û–î–î–ï–†–ñ–ö–ò ==============

// –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏
window.BuyDaySupport = {
  isOpen: false,
  messages: [],
  unreadCount: 0,
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  init: function() {
    this.loadMessages();
    this.updateBadge();
    this.renderChat();
    
    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ localStorage
    const savedMessages = localStorage.getItem('buyday_support_messages');
    if (savedMessages) {
      this.messages = JSON.parse(savedMessages);
    }
  },
  
  // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
  openModal: function(prefilledQuestion = '') {
    const modal = document.getElementById('supportModal');
    const input = document.getElementById('supportInput');
    
    modal.classList.add('active');
    this.isOpen = true;
    
    if (prefilledQuestion) {
      input.value = prefilledQuestion;
    }
    
    // –°–∫—Ä—ã—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    this.unreadCount = 0;
    this.updateBadge();
    
    // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑
    setTimeout(() => {
      const body = document.getElementById('supportBody');
      body.scrollTop = body.scrollHeight;
    }, 100);
  },
  
  // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
  closeModal: function() {
    const modal = document.getElementById('supportModal');
    modal.classList.remove('active');
    this.isOpen = false;
  },
  
  // –û—Ç–∫—Ä—ã—Ç—å —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –≤–æ–ø—Ä–æ—Å–æ–º
  openWithQuestion: function(question) {
    this.openModal(question);
  },
  
  // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
  sendMessage: function(text) {
    if (!text.trim()) return;
    
    // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    this.addMessage('user', text);
    
    // –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞
    document.getElementById('supportInput').value = '';
    
    // –û—Ç–≤–µ—Ç –±–æ—Ç–∞
    setTimeout(() => {
      this.processUserMessage(text);
    }, 1000);
  },
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  processUserMessage: function(message) {
    const lowerMessage = message.toLowerCase();
    let response = '';
    
    // –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
    const knowledgeBase = {
      '–ø—Ä–∏–≤–µ—Ç': '–ü—Ä–∏–≤–µ—Ç! üëã –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?',
      '–¥–æ–±—Ä—ã–π –¥–µ–Ω—å': '–î–æ–±—Ä—ã–π –¥–µ–Ω—å! ‚òÄÔ∏è –†–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å!',
      '–ø–æ–º–æ—â—å': '–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å:\n‚Ä¢ –°—Ç–∞—Ç—É—Å–æ–º –∑–∞–∫–∞–∑–∞\n‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–æ–π\n‚Ä¢ –û–ø–ª–∞—Ç–æ–π\n‚Ä¢ –í–æ–∑–≤—Ä–∞—Ç–æ–º\n‚Ä¢ –ì–∞—Ä–∞–Ω—Ç–∏–µ–π\n‚Ä¢ –ê–∫—Ü–∏—è–º–∏ –∏ —Å–∫–∏–¥–∫–∞–º–∏\n\n–ß—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?',
      '—Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞': 'üì¶ –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ BYD-XXXXXX',
      '–¥–æ—Å—Ç–∞–≤–∫–∞': 'üöö –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏ 3-7 –¥–Ω–µ–π. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –æ—Ç 5000‚ÇΩ!',
      '–æ–ø–ª–∞—Ç–∞': 'üí≥ –ü—Ä–∏–Ω–∏–º–∞–µ–º –∫–∞—Ä—Ç—ã, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏ –∏ –Ω–∞–ª–æ–∂–µ–Ω–Ω—ã–π –ø–ª–∞—Ç–µ–∂',
      '–≤–æ–∑–≤—Ä–∞—Ç': 'üîÑ –í–æ–∑–≤—Ä–∞—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–Ω–æ–≥–æ –≤–∏–¥–∞',
      '–≥–∞—Ä–∞–Ω—Ç–∏—è': 'üõ°Ô∏è –ì–∞—Ä–∞–Ω—Ç–∏—è –æ—Ç 12 –¥–æ 36 –º–µ—Å—è—Ü–µ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≤–∞—Ä–∞',
      '–æ–ø–µ—Ä–∞—Ç–æ—Ä': 'üë®‚Äçüíª –°–æ–µ–¥–∏–Ω—è—é —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º...\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: 8-800-555-35-35',
      '—Å–ø–∞—Å–∏–±–æ': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! üòä –û–±—Ä–∞—â–∞–π—Ç–µ—Å—å –µ—â–µ!'
    };
    
    // –ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞
    for (const [keyword, answer] of Object.entries(knowledgeBase)) {
      if (lowerMessage.includes(keyword)) {
        response = answer;
        break;
      }
    }
    
    // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
    if (!response) {
      response = '–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª –≤–æ–ø—Ä–æ—Å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–¥–∞—Ç—å –µ–≥–æ –ø–æ-–¥—Ä—É–≥–æ–º—É –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É:';
    }
    
    // –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞
    this.addMessage('bot', response);
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
    this.saveMessages();
  },
  
  // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
  addMessage: function(sender, text) {
    const message = {
      id: Date.now(),
      sender: sender,
      text: text,
      time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
      date: new Date().toISOString()
    };
    
    this.messages.push(message);
    this.renderMessage(message);
    this.saveMessages();
    
    // –ï—Å–ª–∏ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ, —É–≤–µ–ª–∏—á–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
    if (!this.isOpen && sender === 'bot') {
      this.unreadCount++;
      this.updateBadge();
    }
  },
  
  // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
  renderMessage: function(message) {
    const body = document.getElementById('supportBody');
    const messageDiv = document.createElement('div');
    
    messageDiv.className = `support-message ${message.sender}`;
    messageDiv.innerHTML = `
      <div style="max-width: 70%; padding: 10px 15px; border-radius: 15px; margin-bottom: 10px; 
                  ${message.sender === 'user' ? 
                    'background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; margin-left: auto; border-bottom-right-radius: 5px;' : 
                    'background: #f0f0f0; color: #333; border-bottom-left-radius: 5px;'}">
        <div>${message.text.replace(/\n/g, '<br>')}</div>
        <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 5px; text-align: ${message.sender === 'user' ? 'right' : 'left'}">
          ${message.time}
        </div>
      </div>
    `;
    
    body.appendChild(messageDiv);
    body.scrollTop = body.scrollHeight;
  },
  
  // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –≤–µ—Å—å —á–∞—Ç
  renderChat: function() {
    const body = document.getElementById('supportBody');
    body.innerHTML = '';
    
    // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    if (this.messages.length === 0) {
      this.addMessage('bot', 'üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É BuyDay! –ó–∞–¥–∞–π—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É:');
    } else {
      this.messages.forEach(msg => this.renderMessage(msg));
    }
  },
  
  // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
  saveMessages: function() {
    localStorage.setItem('buyday_support_messages', JSON.stringify(this.messages));
  },
  
  // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
  loadMessages: function() {
    const saved = localStorage.getItem('buyday_support_messages');
    if (saved) {
      this.messages = JSON.parse(saved);
    }
  },
  
  // –û–±–Ω–æ–≤–∏—Ç—å –±–µ–π–¥–∂
  updateBadge: function() {
    const badge = document.getElementById('unreadBadge');
    const widget = document.getElementById('supportWidget');
    
    if (this.unreadCount > 0) {
      badge.textContent = this.unreadCount;
      widget.classList.add('has-messages');
    } else {
      widget.classList.remove('has-messages');
    }
  },
  
  // –ó–∞–¥–∞—Ç—å –±—ã—Å—Ç—Ä—ã–π –≤–æ–ø—Ä–æ—Å
  askQuickQuestion: function(question) {
    this.sendMessage(question);
  }
};

// ============== –§–£–ù–ö–¶–ò–ò –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò ==============

// –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
function openAuthModal() {
  document.getElementById('authModal').classList.add('open');
  document.getElementById('overlay').classList.add('active');
  document.body.style.overflow = 'hidden';
  showLoginForm();
}

// –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
function closeAuthModal() {
  document.getElementById('authModal').classList.remove('open');
  document.getElementById('overlay').classList.remove('active');
  document.body.style.overflow = 'auto';
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
function showLoginForm() {
  document.getElementById('authTitle').textContent = '–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç';
  
  document.querySelectorAll('.auth-form').forEach(form => {
    form.classList.remove('active');
  });
  
  document.getElementById('loginForm').classList.add('active');
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
function showRegisterForm() {
  document.getElementById('authTitle').textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è';
  
  document.querySelectorAll('.auth-form').forEach(form => {
    form.classList.remove('active');
  });
  
  document.getElementById('registerForm').classList.add('active');
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
function showForgotPasswordForm() {
  document.getElementById('authTitle').textContent = '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è';
  
  document.querySelectorAll('.auth-form').forEach(form => {
    form.classList.remove('active');
  });
  
  document.getElementById('forgotPasswordForm').classList.add('active');
}

// –í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç
function login() {
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;
  
  if (!email || !password) {
    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
    return;
  }
  
  // –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const user = users.find(u => u.email === email && u.password === password);
  
  if (user) {
    currentUser = user;
    localStorage.setItem('buyday_current_user', JSON.stringify(currentUser));
    
    closeAuthModal();
    updateUserInterface();
    showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.firstName}!`, 'success');
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    loadUserData();
  } else {
    showNotification('–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'error');
  }
}

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function register() {
  const firstName = document.getElementById('registerFirstName').value;
  const lastName = document.getElementById('registerLastName').value;
  const email = document.getElementById('registerEmail').value;
  const password = document.getElementById('registerPassword').value;
  const passwordConfirm = document.getElementById('registerPasswordConfirm').value;
  const agreement = document.getElementById('registerAgreement').checked;
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∏
  if (!firstName || !email || !password) {
    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
    return;
  }
  
  if (password !== passwordConfirm) {
    showNotification('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç', 'error');
    return;
  }
  
  if (!agreement) {
    showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è —Å —É—Å–ª–æ–≤–∏—è–º–∏', 'error');
    return;
  }
  
  if (users.find(u => u.email === email)) {
    showNotification('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç', 'error');
    return;
  }
  
  // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const newUser = {
    id: Date.now(),
    firstName,
    lastName,
    email,
    password,
    phone: '',
    birthDate: '',
    bonuses: 500,
    level: 'regular',
    registrationDate: new Date().toISOString(),
    settings: {
      emailNotifications: true,
      smsNotifications: true,
      twoFactorAuth: false
    },
    addresses: []
  };
  
  users.push(newUser);
  localStorage.setItem('buyday_users', JSON.stringify(users));
  
  currentUser = newUser;
  localStorage.setItem('buyday_current_user', JSON.stringify(currentUser));
  
  closeAuthModal();
  updateUserInterface();
  showNotification(`–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${firstName}!`, 'success');
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  user = newUser;
  orders = [];
  favorites = [];
  bonusHistory = [
    { date: new Date().toISOString().split('T')[0], description: '–ë–æ–Ω—É—Å—ã –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é', amount: 500, type: 'earn' }
  ];
  
  saveUserData();
}

// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
function sendPasswordReset() {
  const email = document.getElementById('forgotEmail').value;
  
  if (!email) {
    showNotification('–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email', 'error');
    return;
  }
  
  const userExists = users.find(u => u.email === email);
  
  if (userExists) {
    showNotification('–°—Å—ã–ª–∫–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤–∞—à email', 'success');
    setTimeout(() => {
      showLoginForm();
    }, 2000);
  } else {
    showNotification('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
  }
}

// –í—Ö–æ–¥ –∫–∞–∫ –≥–æ—Å—Ç—å
function loginAsGuest() {
  currentUser = {
    id: 'guest',
    firstName: '–ì–æ—Å—Ç—å',
    lastName: '',
    email: '',
    level: 'guest'
  };
  
  localStorage.setItem('buyday_current_user', JSON.stringify(currentUser));
  
  closeAuthModal();
  updateUserInterface();
  showNotification('–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –≥–æ—Å—Ç—å', 'info');
}

// –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
function logout() {
  if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
    currentUser = null;
    localStorage.removeItem('buyday_current_user');
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–æ—Å—Ç—è
    user = {
      id: 'guest',
      firstName: '–ì–æ—Å—Ç—å',
      lastName: '',
      email: '',
      level: 'guest'
    };
    
    updateUserInterface();
    showNotification('–í—ã –≤—ã—à–ª–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞', 'info');
    
    if (document.getElementById('accountModal').classList.contains('open')) {
      closeAccountModal();
    }
  }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function updateUserInterface() {
  const userIcon = document.getElementById('userName');
  
  if (currentUser) {
    userIcon.textContent = currentUser.firstName || '–ê–∫–∫–∞—É–Ω—Ç';
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É
    const userIconDiv = document.querySelector('.user-icon');
    userIconDiv.innerHTML = `
      <i class="fas fa-user"></i>
      <span id="userName">${currentUser.firstName || '–ê–∫–∫–∞—É–Ω—Ç'}</span>
    `;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
    userIconDiv.onclick = () => {
      if (currentUser.id === 'guest') {
        openAuthModal();
      } else {
        openAccountModal();
      }
    };
  } else {
    userIcon.textContent = '–í–æ–π—Ç–∏';
  }
}

// –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `account-notification ${type}`;
  notification.innerHTML = `
    <div class="notification-message">${message}</div>
    <button class="notification-close" onclick="this.parentElement.remove()">
      <i class="fas fa-times"></i>
    </button>
  `;
  
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.classList.add('show');
  }, 10);
  
  setTimeout(() => {
    notification.classList.remove('show');
    setTimeout(() => {
      if (notification.parentNode) {
        notification.parentNode.removeChild(notification);
      }
    }, 300);
  }, 3000);
}

// ============== –§–£–ù–ö–¶–ò–ò –õ–ò–ß–ù–û–ì–û –ö–ê–ë–ò–ù–ï–¢–ê ==============

// –û—Ç–∫—Ä—ã—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
function openAccountModal() {
  if (!currentUser || currentUser.id === 'guest') {
    openAuthModal();
    return;
  }
  
  document.getElementById('accountModal').classList.add('open');
  document.getElementById('overlay').classList.add('active');
  document.body.style.overflow = 'hidden';
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  loadUserData();
  renderProfile();
  renderOrders();
  renderFavorites();
  renderBonuses();
  updateStats();
}

// –ó–∞–∫—Ä—ã—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
function closeAccountModal() {
  document.getElementById('accountModal').classList.remove('open');
  document.getElementById('overlay').classList.remove('active');
  document.body.style.overflow = 'auto';
}

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
function switchAccountTab(tabName) {
  // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
  document.querySelectorAll('.account-nav-item').forEach(item => {
    item.classList.remove('active');
  });
  
  // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π
  document.querySelectorAll('.account-section').forEach(section => {
    section.classList.remove('active');
  });
  
  // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
  const tab = document.querySelector(`.account-nav-item[onclick*="${tabName}"]`);
